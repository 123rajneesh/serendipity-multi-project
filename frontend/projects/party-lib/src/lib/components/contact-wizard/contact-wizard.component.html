<command-bar>

  <ng-container *ngIf="isHandsetPortrait(); else web">

    <button mat-flat-button class="md-command-bar-button"
            [disabled]="!isDirty() || !isValid()"
            (click)="onSave()">
      <mat-icon svgIcon="save"> </mat-icon>
    </button>

    <button mat-flat-button class="md-command-bar-button"
            [disabled]="!isDirty() || !isValid()"
            (click)="onSaveAndClose()">
      <mat-icon svgIcon="arrow-back"> </mat-icon>
    </button>

  </ng-container>

  <ng-template #web>

    <button mat-flat-button class="md-command-bar-button"
            [disabled]="!isDirty() || !isValid()"
            (click)="onSave()">
      <mat-icon svgIcon="save"> </mat-icon>
      <span i18n="Command Bar Item|Contact@@SAVE">
        SAVE
      </span>
    </button>

    <button mat-flat-button class="md-command-bar-button"
            [disabled]="!isDirty() || !isValid()"
            (click)="onSaveAndClose()">
      <mat-icon svgIcon="arrow-back"> </mat-icon>
      <span i18n="Command Bar Item|Contact@@SAVE_AND_CLOSE">
        SAVE & CLOSE
      </span>
    </button>

  </ng-template>

  <div fxFlex fxLayout fxLayoutAlign="flex-end">
    <button mat-button class="md-command-bar-button"
            (click)="onClose()">
      <mat-icon svgIcon="clear"> </mat-icon>
    </button>
  </div>

</command-bar>

<activity-bar>

  <span class="md-activity-bar-title" i18n="Activity Bar Title|Contact@@CONTACT_TITLE">
    Contact Wizard
  </span>

</activity-bar>

<div class="md-content-container">

  <!-- <ng-container *ngIf="!item; then skeleton"> </ng-container> -->

  <ng-container *ngIf="generalInformationGroup && addressInformationGroup">

    <div class="md-table-container">

      <mat-vertical-stepper linear="false">

        <mat-step [stepControl]="generalInformationGroup">
          <ng-template matStepLabel>General Information</ng-template>
          <dynamic-form autocomplete="off"
                        className="md-nested-grid-container"
                        [formGroup]="generalInformationGroup"
                        [model]="generalInformationModel"
                        (customEvent)="onCustomEvent($event)">
          </dynamic-form>
        </mat-step>

        <mat-step [stepControl]="generalInformationGroup">
          <ng-template matStepLabel>Address Information</ng-template>
          <dynamic-form autocomplete="off"
                        className="md-nested-grid-container"
                        [formGroup]="addressInformationGroup"
                        [model]="addressInformationModel"
                        (customEvent)="onCustomEvent($event)">
          </dynamic-form>
        </mat-step>

      </mat-vertical-stepper>

    </div> <!-- crm-table-container -->

  </ng-container>

  <!-- Skeleton template -->

  <!--
  <ng-template #skeleton>
    <div class="crm-spinner-container" [style.height.px]="containerHeight">
      <mat-spinner color="accent"></mat-spinner>
    </div>
  </ng-template>
  -->

</div>
